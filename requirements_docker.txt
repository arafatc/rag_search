# Minimal RAG API Requirements - Docker Optimized
# Keeps essential libs, removes heavy CUDA-dependent packages

# ===================== FASTAPI WEB FRAMEWORK =====================
fastapi==0.116.1
uvicorn==0.35.0
starlette==0.47.3
python-multipart==0.0.20

# ===================== PYDANTIC & VALIDATION =====================
pydantic==2.11.9
pydantic-core==2.33.2
annotated-types==0.7.0

# ===================== CORE LLAMAINDEX =====================
llama-index==0.14.0
llama-index-core==0.14.1
llama-index-cli==0.5.1

# ===================== LLM PROVIDERS =====================
llama-index-llms-ollama==0.7.3
ollama==0.5.3

# ===================== EMBEDDING PROVIDERS =====================
llama-index-embeddings-ollama==0.8.3

# ===================== VECTOR & DOCUMENT STORES =====================
llama-index-vector-stores-postgres==0.6.6
llama-index-storage-docstore-postgres==0.4.1
llama-index-storage-kvstore-postgres==0.4.1

# ===================== RAG SEARCH SYSTEM (CREWAI) =====================
crewai==0.186.1

# ===================== RETRIEVAL & SEARCH =====================
rank-bm25==0.2.2
llama-index-retrievers-bm25==0.6.5
sentencepiece==0.2.1
bm25s==0.2.14

# ===================== DATABASE =====================
psycopg2-binary==2.9.10
pgvector==0.4.1
sqlalchemy==2.0.43
alembic==1.16.5
asyncpg==0.30.0

# ===================== ASYNC & HTTP UTILITIES =====================
aiohttp==3.12.15
requests==2.32.5
httpx==0.28.1
httpcore==1.0.9

# ===================== UTILITIES =====================
python-dotenv==1.1.1
rich==14.1.0
click==8.2.1
tenacity==9.1.2

# ===================== OBSERVABILITY (PHOENIX - COMPLETE) =====================
arize-phoenix==11.32.1
arize-phoenix-otel==0.13.1
arize-phoenix-evals==0.29.0
opentelemetry-api==1.37.0
opentelemetry-sdk==1.37.0
opentelemetry-exporter-otlp==1.37.0
openinference-instrumentation==0.1.38

# ===================== DEVELOPMENT TOOLS =====================
black==25.1.0
flake8==7.3.0

# ===================== SYSTEM & COMPATIBILITY =====================
anyio==4.10.0
sniffio==1.3.1
certifi==2025.8.3
charset-normalizer==3.4.3
idna==3.10
urllib3==2.5.0

# ===================== EXCLUDED HEAVY PACKAGES (Use PyTorch base versions) =====================
# These are already in pytorch/pytorch:2.3.0-cuda12.1-cudnn8-runtime:
# sentence-transformers==5.1.0  # Heavy - causes CUDA downloads
# transformers==4.56.1          # Heavy - causes CUDA downloads  
# tokenizers==0.22.0           # Heavy - causes CUDA downloads
# torch==2.8.0                 # Already in base image
# safetensors==0.6.2           # Heavy - causes CUDA downloads
# huggingface-hub==0.34.4      # Heavy - causes CUDA downloads
# numpy==2.2.6                 # Already in base image  
# pandas==2.2.3                # Heavy - causes CUDA downloads
# scikit-learn==1.7.2          # Heavy - causes CUDA downloads
# scipy==1.15.3                # Heavy - causes CUDA downloads
